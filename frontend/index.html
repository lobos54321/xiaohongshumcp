<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小红书全自动运营系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .auto-running {
            background: linear-gradient(90deg, #10b981, #059669, #10b981);
            background-size: 200% 100%;
            animation: flow 3s ease-in-out infinite;
        }
        @keyframes flow { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
        .chat-message { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-4xl">

        <!-- Header -->
        <div class="text-center text-white mb-8">
            <h1 class="text-4xl font-bold mb-2">🤖 小红书全自动运营系统</h1>
            <p class="text-lg opacity-90">一次设置，终身自动 - 让Claude为你打理一切</p>
        </div>

        <!-- Setup Wizard -->
        <div id="setupWizard" class="space-y-6">

            <!-- Step 1: Login -->
            <div id="step1" class="card rounded-2xl p-8 shadow-xl">
                <div class="flex items-center mb-6">
                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold mr-4">1</div>
                    <h2 class="text-2xl font-bold">📱 扫码登录小红书</h2>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <div class="space-y-4">
                            <div class="text-center">
                                <div class="text-lg font-medium mb-2">扫码登录小红书</div>
                                <div class="text-gray-600 text-sm">登录后即可开始自动运营</div>
                            </div>
                            <button onclick="getLoginQR()" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-6 rounded-lg transition">
                                获取登录二维码
                            </button>
                            <div id="loginStatus" class="text-center text-sm text-gray-600"></div>
                        </div>
                    </div>
                    <div class="flex items-center justify-center">
                        <div id="qrCodeArea" class="w-48 h-48 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400">
                            二维码将在这里显示
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Product Info -->
            <div id="step2" class="card rounded-2xl p-8 shadow-xl opacity-50">
                <div class="flex items-center mb-6">
                    <div class="w-8 h-8 bg-gray-400 text-white rounded-full flex items-center justify-center font-bold mr-4">2</div>
                    <h2 class="text-2xl font-bold">🎯 设置产品和目标</h2>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">产品/服务</label>
                            <input type="text" id="productName" placeholder="例如：手工咖啡店"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">目标客户</label>
                            <input type="text" id="targetAudience" placeholder="例如：25-35岁都市白领"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">营销目标</label>
                            <select id="marketingGoal" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="brand">品牌知名度</option>
                                <option value="sales">销售转化</option>
                                <option value="engagement">粉丝互动</option>
                                <option value="traffic">店铺引流</option>
                            </select>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">发布频率</label>
                            <select id="postFrequency" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="daily">每天1篇</option>
                                <option value="twice-daily">每天2篇</option>
                                <option value="high-freq">每天3-5篇</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">品牌风格</label>
                            <select id="brandStyle" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="warm">温暖治愈</option>
                                <option value="professional">专业权威</option>
                                <option value="trendy">时尚潮流</option>
                                <option value="funny">幽默风趣</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-2">审核模式</label>
                            <select id="reviewMode" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="auto">完全自动</option>
                                <option value="review">发布前审核</option>
                                <option value="edit">允许编辑</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button onclick="saveConfiguration()" class="w-full mt-6 bg-purple-500 hover:bg-purple-600 text-white font-medium py-3 px-6 rounded-lg transition" disabled>
                    保存配置并启动自动运营
                </button>
            </div>
        </div>

        <!-- Auto Manager Dashboard -->
        <div id="autoManagerDashboard" class="hidden space-y-6">

            <!-- Status Header -->
            <div class="card rounded-2xl p-6 shadow-xl">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">🤖 自动运营中</h2>
                        <p class="text-gray-600" id="autoStatusText">Claude正在为您的产品规划内容...</p>
                    </div>
                    <div class="text-right">
                        <div class="auto-running text-white px-4 py-2 rounded-lg font-medium">
                            <span class="pulse">●</span> 运行中
                        </div>
                        <div class="text-sm text-gray-500 mt-1" id="runningTime">已运行 0分钟</div>
                    </div>
                </div>
            </div>

            <!-- AI Planning Panel -->
            <div class="grid md:grid-cols-3 gap-6">

                <!-- Content Strategy -->
                <div class="card rounded-xl p-6 shadow-lg">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        🧠 内容策略
                    </h3>
                    <div id="aiStrategy" class="space-y-3 text-sm">
                        <div class="bg-blue-50 p-3 rounded-lg">
                            <div class="font-medium text-blue-800">本周主题</div>
                            <div class="text-blue-600">正在分析...</div>
                        </div>
                        <div class="bg-green-50 p-3 rounded-lg">
                            <div class="font-medium text-green-800">热门话题</div>
                            <div class="text-green-600">正在收集...</div>
                        </div>
                        <div class="bg-purple-50 p-3 rounded-lg">
                            <div class="font-medium text-purple-800">发布时机</div>
                            <div class="text-purple-600">正在优化...</div>
                        </div>
                    </div>
                </div>

                <!-- Today's Plan -->
                <div class="card rounded-xl p-6 shadow-lg">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        📅 今日计划
                    </h3>
                    <div id="todayPlan" class="space-y-3 text-sm">
                        <div class="text-gray-500 text-center py-4">
                            Claude正在制定今日计划...
                        </div>
                    </div>
                </div>

                <!-- Performance -->
                <div class="card rounded-xl p-6 shadow-lg">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        📊 运营数据
                    </h3>
                    <div id="performance" class="space-y-3 text-sm">
                        <div class="flex justify-between">
                            <span>今日发布</span>
                            <span class="font-medium text-blue-600">0 / 计划中</span>
                        </div>
                        <div class="flex justify-between">
                            <span>本周阅读</span>
                            <span class="font-medium text-green-600">收集中</span>
                        </div>
                        <div class="flex justify-between">
                            <span>新增粉丝</span>
                            <span class="font-medium text-purple-600">统计中</span>
                        </div>
                        <div class="flex justify-between">
                            <span>互动率</span>
                            <span class="font-medium text-orange-600">分析中</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Activity Feed -->
            <div class="card rounded-xl p-6 shadow-lg">
                <h3 class="text-lg font-bold mb-4">🔴 实时活动</h3>
                <div id="activityFeed" class="space-y-3 max-h-64 overflow-y-auto">
                    <!-- Activities will be populated here -->
                </div>
            </div>

            <!-- Control Panel -->
            <div class="card rounded-xl p-6 shadow-lg">
                <h3 class="text-lg font-bold mb-4">⚙️ 控制面板</h3>
                <div class="grid md:grid-cols-4 gap-4">
                    <button onclick="pauseAutoMode()" class="bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-4 rounded-lg transition">
                        ⏸️ 暂停
                    </button>
                    <button onclick="showPendingPosts()" class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition">
                        📝 待发内容
                    </button>
                    <button onclick="adjustStrategy()" class="bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-lg transition">
                        🎯 调整策略
                    </button>
                    <button onclick="viewAnalytics()" class="bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-lg transition">
                        📈 数据分析
                    </button>
                </div>
            </div>

            <!-- Manual Chat Interface (Hidden by default) -->
            <div id="manualChatInterface" class="hidden card rounded-xl p-6 shadow-lg">
                <h3 class="text-lg font-bold mb-4">💬 手动对话</h3>
                <div id="chatMessages" class="h-64 overflow-y-auto space-y-3 mb-4 p-4 bg-gray-50 rounded-lg">
                    <!-- Chat messages will be populated here -->
                </div>
                <div class="flex gap-2">
                    <input type="text" id="chatInput" placeholder="输入指令..."
                        class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                        onkeypress="if(event.key==='Enter') sendManualMessage()">
                    <button onclick="sendManualMessage()" class="bg-purple-500 hover:bg-purple-600 text-white px-6 py-2 rounded-lg transition">
                        发送
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 自动检测API地址
        const CLAUDE_API = window.location.hostname === 'localhost'
            ? 'http://localhost:4000'
            : window.location.origin;

        let currentUser = null;
        let autoModeEnabled = false;
        let startTime = null;

        // 获取登录二维码
        async function getLoginQR() {
            currentUser = `user_${Date.now()}`;

            try {
                const response = await fetch(`${CLAUDE_API}/agent/xiaohongshu/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userId: currentUser
                    })
                });

                const data = await response.json();
                if (data.success) {
                    // 直接嵌入小红书登录页面
                    document.getElementById('qrCodeArea').innerHTML =
                        `<div class="text-center">
                            <div class="mb-2">
                                <iframe
                                    src="https://www.xiaohongshu.com/login"
                                    width="300"
                                    height="400"
                                    frameborder="0"
                                    style="border: 2px solid #e5e7eb; border-radius: 12px; background: white;"
                                    sandbox="allow-same-origin allow-scripts allow-forms allow-popups">
                                </iframe>
                            </div>
                            <div class="text-sm text-gray-600">请用手机小红书APP扫描上方二维码</div>
                        </div>`;

                    document.getElementById('loginStatus').innerHTML =
                        `<div class="text-green-600">
                            <div>✅ 小红书登录页面已加载</div>
                            <div class="text-sm text-gray-500 mt-1">请扫描上方二维码完成登录</div>
                        </div>`;

                    // 启用第二步
                    enableStep2();

                    // 检查登录状态（定期检查用户是否已登录）
                    const checkInterval = setInterval(() => {
                        // 这里可以通过postMessage与iframe通信检查登录状态
                        // 或者让用户手动点击"已完成登录"按钮
                        console.log('检查登录状态...');
                    }, 3000);

                    // 添加"已完成登录"按钮
                    setTimeout(() => {
                        document.getElementById('loginStatus').innerHTML +=
                            `<div class="mt-2">
                                <button onclick="confirmLogin()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 text-sm">
                                    我已完成扫码登录 ✓
                                </button>
                            </div>`;
                    }, 2000);
                } else {
                    document.getElementById('loginStatus').innerHTML =
                        `<div class="text-red-600">启动失败: ${data.error}</div>`;
                }
            } catch (error) {
                console.error('获取二维码失败:', error);
                document.getElementById('loginStatus').innerHTML =
                    '<span class="text-red-600">获取二维码失败，请重试</span>';
            }
        }

        // 启用第二步
        function enableStep2() {
            const step2 = document.getElementById('step2');
            step2.classList.remove('opacity-50');
            const numberDiv = step2.querySelector('.bg-gray-400');
            if (numberDiv) {
                numberDiv.classList.remove('bg-gray-400');
                numberDiv.classList.add('bg-purple-500');
            }
            step2.querySelector('button').disabled = false;
        }

        // 确认登录完成
        function confirmLogin() {
            document.getElementById('loginStatus').innerHTML =
                `<div class="text-green-600">
                    <div>✅ 登录确认成功</div>
                    <div class="text-sm text-gray-500 mt-1">可以继续配置产品信息了</div>
                </div>`;

            // 切换到设置第二步的重点
            const step2Button = document.getElementById('step2').querySelector('button');
            step2Button.classList.add('ring-2', 'ring-purple-300', 'animate-pulse');
            step2Button.textContent = '立即配置产品 →';
        }

        // 检查登录状态
        async function checkLoginStatus() {
            const checkInterval = setInterval(async () => {
                try {
                    const response = await fetch(`${CLAUDE_API}/agent/chat`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            userId: currentUser,
                            prompt: '检查小红书登录状态'
                        })
                    });

                    const data = await response.json();
                    if (data.success && data.data.content.includes('已登录')) {
                        clearInterval(checkInterval);
                        document.getElementById('loginStatus').innerHTML =
                            '<span class="text-green-600">✓ 登录成功！</span>';

                        // 自动滚动到第二步
                        document.getElementById('step2').scrollIntoView({ behavior: 'smooth' });
                    }
                } catch (error) {
                    console.error('检查登录状态失败:', error);
                }
            }, 3000);

            // 30秒后停止检查
            setTimeout(() => clearInterval(checkInterval), 30000);
        }

        // 保存配置并启动自动运营
        async function saveConfiguration() {
            const config = {
                userId: currentUser,
                productName: document.getElementById('productName').value,
                targetAudience: document.getElementById('targetAudience').value,
                marketingGoal: document.getElementById('marketingGoal').value,
                postFrequency: document.getElementById('postFrequency').value,
                brandStyle: document.getElementById('brandStyle').value,
                reviewMode: document.getElementById('reviewMode').value
            };

            if (!config.productName) {
                alert('请填写产品/服务信息');
                return;
            }

            try {
                // 发送配置给Claude，启动自动模式
                const response = await fetch(`${CLAUDE_API}/agent/auto/start`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(config)
                });

                const data = await response.json();
                if (data.success) {
                    // 切换到自动运营界面
                    document.getElementById('setupWizard').classList.add('hidden');
                    document.getElementById('autoManagerDashboard').classList.remove('hidden');

                    autoModeEnabled = true;
                    startTime = Date.now();
                    startAutoMode(config);
                } else {
                    alert('启动失败: ' + (data.error || '未知错误'));
                }
            } catch (error) {
                console.error('启动自动运营失败:', error);
                alert('启动失败，请重试');
            }
        }

        // 启动自动模式
        function startAutoMode(config) {
            // 更新状态文本
            document.getElementById('autoStatusText').textContent =
                `Claude正在为您的${config.productName}制定运营策略...`;

            // 开始运营计时
            const updateTimer = () => {
                if (!startTime) return;
                const elapsed = Date.now() - startTime;
                const hours = Math.floor(elapsed / 3600000);
                const minutes = Math.floor((elapsed % 3600000) / 60000);
                document.getElementById('runningTime').textContent =
                    `已运行 ${hours}小时${minutes}分`;
            };
            setInterval(updateTimer, 60000);
            updateTimer();

            // 开始获取AI策略和计划
            fetchAIStrategy();
            fetchTodayPlan();

            // 模拟活动流
            simulateActivity();

            // 定期更新数据
            setInterval(updateDashboard, 30000);
        }

        // 获取AI策略
        async function fetchAIStrategy() {
            try {
                const response = await fetch(`${CLAUDE_API}/agent/auto/strategy/${currentUser}`);
                const data = await response.json();

                if (data.success && data.strategy) {
                    updateStrategyDisplay(data.strategy);
                }
            } catch (error) {
                console.error('获取策略失败:', error);
            }
        }

        // 获取今日计划
        async function fetchTodayPlan() {
            try {
                const response = await fetch(`${CLAUDE_API}/agent/auto/plan/${currentUser}`);
                const data = await response.json();

                if (data.success && data.plan) {
                    updatePlanDisplay(data.plan);
                }
            } catch (error) {
                console.error('获取计划失败:', error);
            }
        }

        // 更新策略显示
        function updateStrategyDisplay(strategy) {
            const container = document.getElementById('aiStrategy');
            container.innerHTML = `
                <div class="bg-blue-50 p-3 rounded-lg">
                    <div class="font-medium text-blue-800">本周主题</div>
                    <div class="text-blue-600">${strategy.keyThemes?.join(', ') || '制定中...'}</div>
                </div>
                <div class="bg-green-50 p-3 rounded-lg">
                    <div class="font-medium text-green-800">热门话题</div>
                    <div class="text-green-600">${strategy.trendingTopics?.join(', ') || '分析中...'}</div>
                </div>
                <div class="bg-purple-50 p-3 rounded-lg">
                    <div class="font-medium text-purple-800">发布时机</div>
                    <div class="text-purple-600">${strategy.optimalTimes?.join(', ') || '优化中...'}</div>
                </div>
            `;
        }

        // 更新计划显示
        function updatePlanDisplay(plan) {
            const container = document.getElementById('todayPlan');
            if (plan.tasks && plan.tasks.length > 0) {
                container.innerHTML = plan.tasks.map(task => `
                    <div class="flex items-center justify-between p-2 bg-${task.status === 'completed' ? 'green' : task.status === 'in-progress' ? 'yellow' : 'gray'}-50 rounded-lg">
                        <span>${task.title}</span>
                        <span class="text-${task.status === 'completed' ? 'green' : task.status === 'in-progress' ? 'yellow' : 'gray'}-600 text-xs">
                            ${task.status === 'completed' ? '✓ 已完成' : task.status === 'in-progress' ? '⏱ 进行中' : '⏳ 计划中'}
                        </span>
                    </div>
                `).join('');
            } else {
                container.innerHTML = '<div class="text-gray-500 text-center py-4">暂无计划</div>';
            }
        }

        // 模拟实时活动
        function simulateActivity() {
            const activities = [
                '🤖 Claude正在分析热门话题...',
                '📝 正在生成新的内容创意...',
                '🎨 正在制作配图...',
                '📊 正在分析最佳发布时间...',
                '🔍 正在研究竞品内容...',
                '💡 发现新的营销机会...',
                '📈 正在优化内容策略...'
            ];

            setInterval(() => {
                if (autoModeEnabled) {
                    const activity = activities[Math.floor(Math.random() * activities.length)];
                    addActivityLog(activity);
                }
            }, 8000);
        }

        // 添加活动日志
        function addActivityLog(message) {
            const feed = document.getElementById('activityFeed');
            const time = new Date().toLocaleTimeString();

            const activityDiv = document.createElement('div');
            activityDiv.className = 'flex items-center justify-between p-3 bg-gray-50 rounded-lg';
            activityDiv.innerHTML = `
                <span class="text-sm">${message}</span>
                <span class="text-xs text-gray-500">${time}</span>
            `;

            feed.insertBefore(activityDiv, feed.firstChild);

            // 只保留最新的10条记录
            while (feed.children.length > 10) {
                feed.removeChild(feed.lastChild);
            }
        }

        // 更新仪表盘
        async function updateDashboard() {
            try {
                const response = await fetch(`${CLAUDE_API}/agent/auto/stats/${currentUser}`);
                const data = await response.json();

                if (data.success && data.stats) {
                    updatePerformanceDisplay(data.stats);
                }
            } catch (error) {
                console.error('更新数据失败:', error);
            }
        }

        // 更新性能显示
        function updatePerformanceDisplay(stats) {
            const container = document.getElementById('performance');
            container.innerHTML = `
                <div class="flex justify-between">
                    <span>今日发布</span>
                    <span class="font-medium text-blue-600">${stats.todayPosts || 0} / ${stats.plannedPosts || 0}</span>
                </div>
                <div class="flex justify-between">
                    <span>本周阅读</span>
                    <span class="font-medium text-green-600">${stats.weeklyReads || '统计中'}</span>
                </div>
                <div class="flex justify-between">
                    <span>新增粉丝</span>
                    <span class="font-medium text-purple-600">+${stats.newFollowers || 0}</span>
                </div>
                <div class="flex justify-between">
                    <span>互动率</span>
                    <span class="font-medium text-orange-600">${stats.engagementRate || 0}%</span>
                </div>
            `;
        }

        // 控制面板功能
        function pauseAutoMode() {
            if (autoModeEnabled) {
                autoModeEnabled = false;
                alert('自动运营已暂停');
                // 这里可以调用API暂停服务
            } else {
                autoModeEnabled = true;
                startTime = Date.now();
                alert('自动运营已恢复');
            }
        }

        function showPendingPosts() {
            // 显示待审核内容
            document.getElementById('manualChatInterface').classList.toggle('hidden');
        }

        function adjustStrategy() {
            alert('策略调整功能开发中...');
        }

        function viewAnalytics() {
            alert('数据分析功能开发中...');
        }

        // 手动对话功能
        async function sendManualMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            input.value = '';
            addChatMessage('user', message);

            try {
                const response = await fetch(`${CLAUDE_API}/agent/chat`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        userId: currentUser,
                        prompt: message
                    })
                });

                const data = await response.json();
                if (data.success) {
                    addChatMessage('assistant', data.data.content);
                } else {
                    addChatMessage('assistant', '错误: ' + (data.error || '未知错误'));
                }
            } catch (error) {
                addChatMessage('assistant', '错误: ' + error.message);
            }
        }

        function addChatMessage(role, content) {
            const container = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message p-3 rounded-lg ${role === 'user' ? 'bg-purple-100 ml-8' : 'bg-gray-100 mr-8'}`;
            messageDiv.innerHTML = `
                <div class="font-medium text-sm mb-1">${role === 'user' ? '👤 你' : '🤖 Claude'}</div>
                <div class="text-sm">${content}</div>
            `;
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        // 页面加载时的初始化
        window.onload = () => {
            addActivityLog('🚀 系统初始化完成');
        };
    </script>
</body>
</html>